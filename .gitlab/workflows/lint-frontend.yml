.lint-frontend-template:
  stage: lint
  image: node:24-alpine
  cache:
    key: frontend-deps
    paths:
      - apps/frontend/node_modules/
  script:
    - cd apps/frontend
    - npm ci --ignore-scripts --no-audit --no-fund
    - npm run check
    - npm run tsc
  rules:
    - if: '$CI_COMMIT_REF_NAME == "main"'
      when: always
    - changes:
      - apps/backend/**/*
      when: never
    - changes:
      - apps/frontend/**/*
      when: always
    - changes:
      - compose.yml
      when: always